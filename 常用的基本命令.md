# 常用的基本命令

## 目录

[目录管理](#jump1)

[基本属性](#jump2)

[文件内容查看](#jump3)

[Linux 链接概念](#jump4)

---	

<span id="jump1"></span>

## 目录管理

### ls （列出目录）

#### 基本语法

```linux
[root@www ~]# ls [-aAdfFhilnrRSt] 目录名称
```

#### 选项与参数

-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来

-l ：列出包含文件的属性与权限等等数据

选项可以组合使用，例如：

```linux
[root@www ~]# ls -al ~
```

表示将目录下的所有文件列出来(含属性与隐藏档)

#### 语法糖

ll 等价于 ls -l

### pwd

pwd 是 Print Working Directory 的缩写，也就是显示目前所在目录的命令

#### 基本语法

```linux
[root@ ~]#pwd [-P]
```

### 选项与参数

-P ：显示出确实的路径，而非使用连接(link) 路径

### mkdir 

如果想要创建新的目录的话，那么就使用mkdir (make directory)

#### 基本语法

```linux
mkdir [-mp] 目录名称
```

### 选项与参数

```
-m ：配置文件的权限

-p ：将所需要的目录递归创建起来，例如创建：/folder1/folder2/file
```

### rmdir

删除空的目录

#### 基本语法

```linux
rmdir [-p] 目录名称
```

### 选项与参数

```
-p ：连同上一级『空的』目录也一起删除
```

### cp

复制文件或目录

#### 基本语法

```linux
[root@www ~]# cp [-adfilprsu] 来源档(source) 目标档(destination)
[root@www ~]# cp [options] source1 source2 source3 .... directory
```

#### 选项与参数

```
-a：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)

-p：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；

-d：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；

-r：递归持续复制，用於目录的复制行为；(常用)

-f：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；

-i：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)

-l：进行硬式连结(hard link)的连结档创建，而非复制文件本身。

-s：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；

-u：若 destination 比 source 旧才升级 destination 
```

### rm 

移除文件或目录

#### 基本语法

```linux
rm [-fir] 文件或目录
```

### 选项与参数

```
-f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；

-i ：互动模式，在删除前会询问使用者是否动作

-r ：递归删除
```

### mv

移动文件与目录，或修改名称

#### 基本语法

```linux
[root@www ~]# mv [-fiu] source destination
[root@www ~]# mv [options] source1 source2 source3 .... directory
```

### 选项与参数

```
-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；

-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！

-u ：若目标文件已经存在，且 source 比较新，才会升级 (update)
```

---

<span id="jump2"></span>

## 基本属性

### 看懂文件属性

#### 查看

在Linux中我们可以使用ll或者ls –l命令来显示一个文件的属性以及文件所属的用户和组

#### 10位字符

每个文件的属性由左边第一部分的10个字符来确定

![文件属性由10位字符决定](https://github.com/FooderLeoYo/Linux-StudyNote/blob/master/assets/img/文件属性.jpg)

- 第0位确定文件类型

- 第1-3位确定属主（该文件的所有者）拥有该文件的权限

- 第4-6位确定属组（所有者的同组用户）拥有该文件的权限

- 第7-9位确定其他用户拥有该文件的权限

其中：

- 第1、4、7位表示读权限，如果用"r"字符表示，则有读权限，如果用"-"字符表示，则没有读权限；

- 第2、5、8位表示写权限，如果用"w"字符表示，则有写权限，如果用"-"字符表示没有写权限；

- 第3、6、9位表示可执行权限，如果用"x"字符表示，则有执行权限，如果用"-"字符表示，则没有执行权限

#### 第一个字符

在Linux中第一个字符代表这个文件是目录、文件或链接文件等等：

```
当为[ d ]则是目录

当为[ - ]则是文件；

若是[ l ]则表示为链接文档 ( link file )；

若是[ b ]则表示为装置文件里面的可供储存的接口设备 ( 可随机存取装置 )；

若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标 ( 一次性读取装置 )
```

#### 剩下的9位字符

以三个为一组，且均为『rwx』 的三个参数的组合

其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)

要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已

### 修改文件属性

#### chgrp

更改文件属组

```linux
chgrp [-R] 属组名 文件名
```

-R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改

#### chown

更改文件属主，也可以同时更改文件属组

```linux
chown [–R] 属主名 文件名
chown [-R] 属主名：属组名 文件名
```

#### chmod

更改文件9个属性

```linux
chmod [-R] xyz 文件或目录
```

chmod有两种设置方法，数字和符号，一般使用数字进行设置

数字来代表各个权限，各权限的分数对照表如下：

```
r:4     w:2         x:1
```

每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为：[-rwxrwx---] 分数则是：

```
owner = rwx = 4+2+1 = 7

group = rwx = 4+2+1 = 7

others= --- = 0+0+0 = 0
```

则将filename的权限修改为[-rwxrwx---]的chmod命令为：

```linux
chmod 770 filename
```

---

<span id="jump3"></span>

## 文件内容查看

### cat 

由第一行开始显示文件内容

语法：

```linux
cat [-AbEnTv]
```

选项与参数：

```
-A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；

-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！

-E ：将结尾的断行字节 $ 显示出来；

-n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；

-T ：将 [tab] 按键以 ^I 显示出来；

-v ：列出一些看不出来的特殊字符
```

### tac

tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写

### nl 

显示行号

语法：

```linux
nl [-bnw] 文件
```

选项与参数：

```
-b ：指定行号指定的方式，主要有两种：-b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；-b t ：如果有空行，空的那一行不要列出行号(默认值)；

-n ：列出行号表示的方法，主要有三种：-n ln ：行号在荧幕的最左方显示；-n rn ：行号在自己栏位的最右方显示，且不加 0 ；-n rz ：行号在自己栏位的最右方显示，且加 0 ；

-w ：行号栏位的占用的位数。
```

### more

一页一页翻动

在 more 这个程序的运行过程中，你有几个按键可以按的：

```
空白键 (space)：代表向下翻一页；

Enter     ：代表向下翻『一行』；

/字串     ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；

:f      ：立刻显示出档名以及目前显示的行数；

q       ：代表立刻离开 more ，不再显示该文件内容。

b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用
```

### less

一页一页翻动

less运行时可以输入的命令有：

```
空白键  ：向下翻动一页；

[pagedown]：向下翻动一页；

[pageup] ：向上翻动一页；

/字串   ：向下搜寻『字串』的功能；

?字串   ：向上搜寻『字串』的功能；

n     ：重复前一个搜寻 (与 / 或 ? 有关！)

N     ：反向的重复前一个搜寻 (与 / 或 ? 有关！)

q     ：离开 less 这个程序；
```

### head  

取出文件前面几行

语法：

```linux
head [-n number] 文件
```

选项与参数：

-n 后面接数字，代表显示几行

### tail

取出文件后面几行

语法：

```linux
tail [-n number] 文件
```

选项与参数：

-n ：后面接数字，代表显示几行

---

<span id="jump4"></span>

## Linux 链接概念

Linux 链接分两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）

ln 命令产生的是硬链接

### 硬链接

在 Linux 中，多个文件名指向同一索引节点是存在的

比如：A 是 B 的硬链接，则两个文件名指向同一个文件

A 和 B 对文件系统来说是完全平等的

	1. 删除其中任何一个都不会影响另外一个的访问

	2. 修改其中一个，另一个也会被修改，这一点是硬链接和复制的区别所在

硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能

### 符号链接

软链接文件有类似于 Windows 的快捷方式

比如：A 是 B 的软链接，则A 和 B 之间是“主从”关系

如果 B 被删除了，A 仍然存在，但指向的是一个无效的链接